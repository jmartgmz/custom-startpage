<!DOCTYPE html>
<!--Starpage with configurable navigation -->
<html>
<head>
    <title>~</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="general.css" />
</head>
<body>
    <div class="main" id="main1" style="display: block">
        <img class="image-wrapper" src="img/tower.png" />
        <nav id="navigation">
            <!-- Navigation will be generated from config.js -->
        </nav>
    </div>
    <div class="bottomcontainer">
        <!--Live clock script-->
        <div class="time" id="time">
            <script>
                function updateClock() {
                    var days = ['SUNDAY', 'MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY'];
                    var m = new Date();
                    var hours = m.getHours();
                    var ampm = hours >= 12 ? 'PM' : 'AM';
                    hours = hours % 12;
                    hours = hours ? hours : 12; // the hour '0' should be '12'
                    var dateString =
                        (days[m.getDay()]) + " " +
                        ("0" + m.getDate()).slice(-2) + "/" +
                        ("0" + (m.getMonth() + 1)).slice(-2) + "/" +
                        m.getFullYear() + " " +
                        ("0" + hours).slice(-2) + ":" +
                        ("0" + m.getMinutes()).slice(-2) + ":" +
                        ("0" + m.getSeconds()).slice(-2) + " " +
                        ampm;
                    // set the content of the element with the ID time to the formatted string
                    document.getElementById('time').innerHTML = dateString;
                    // call this function again in 1000ms
                    setTimeout(updateClock, 1000);
                }
                updateClock(); // initial call
            </script>
        </div>
        <div class="username">JASON MARTINEZ</div>
    </div>

    <!-- Search the Web Bar -->
    <div class="search-bar">
        <form action="https://www.google.com/search" method="get" target="_blank">
            <input type="text" name="q" placeholder="Search the web..." required />
            <button type="submit">SEARCH</button>
        </form>
    </div>

    <!-- Load configuration file -->
    <script src="config.js"></script>
    
    <!-- Script to generate navigation from config -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navElement = document.getElementById('navigation');
            
            // Generate navigation from config
            for (const category in navConfig) {
                const categoryData = navConfig[category];
                
                // Create category element
                const ul = document.createElement('ul');
                ul.className = categoryData.color;
                
                // Create category title
                const titleElement = document.createElement('a');
                titleElement.textContent = categoryData.title;
                ul.appendChild(titleElement);
                
                // Create links
                categoryData.links.forEach(link => {
                    const li = document.createElement('li');
                    const a = document.createElement('a');
                    a.href = link.url;
                    a.textContent = link.name;
                    li.appendChild(a);
                    ul.appendChild(li);
                });
                
                // Add category to navigation
                navElement.appendChild(ul);
            }
        });
    </script>
</body>
</html>